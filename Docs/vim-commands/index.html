<!DOCTYPE HTML><html><head><meta charset="utf-8"><title>vim-commands | less is more</title><meta name="author" content="tomdican"><meta name="description" content="vim commands1.Search in a folder12:cd /path/to/your/folder/:vim &quot;searchme&quot; **/*.php
2.Delete the lines

delete the matched
1:g/pattern/d

delete the n"><meta name="keywords" content="vim,tech,guide"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="vim-commands"><meta property="og:site_name" content="less is more,done what you want everyday"><meta property="og:image" content="undefined"><link rel="alternative" href="/atom.xml" title="less is more" type="application/atom+xml"><link href="/favicon.png" rel="icon"><link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/style.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><script src="/js/jquery-2.0.3.min.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="application/ld+json">
  {
    "@context" : "http://schema.org",
    "@type" : "WebSite",
    "name" : "less is more",
    "url" : "http://www.tomdican.xyz"
  }
</script><script type="application/ld+json">
  { "@context" : "http://schema.org",
    "@type" : "Organization",
    "name" : "tomdican blog",
    "url" : "http://www.tomdican.xyz",
    "logo": "http://www.tomdican.xyz/logo.png",
    "sameAs" : [ "" ]
  }
</script></head><body id="body" data-spy="scroll" data-target=".toc"><div class="container" id="container"><div class="content"><div class="page-header"><h1> <a class="brand" href="/">less is more</a><span class="split"></span> <span class="title">vim-commands</span></h1></div><div class="row page"> <span class="update" id="update">2017.02.10 13&nbsp; updated<a rel="external nofollow" href="https://coding.net/u/tomdican/p/blog/git/blame/source/_posts/vim-commands.md" target="_blank"><i class="fa fa-history" title="history"></i></a></span><div class="col-xs-12 col-sm-3 col-md-3 toc"><script type="text/javascript">jQuery(document).ready(function(){generateWikiTOC(".note",".toc",2,2)})</script></div><div class="col-xs-12 col-sm-9 col-md-9 note"><h2 id="vim-commands"><a href="#vim-commands" class="headerlink" title="vim commands"></a>vim commands</h2><p>1.Search in a folder<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">:<span class="built_in">cd</span> /path/to/your/folder/</div><div class="line">:vim <span class="string">"searchme"</span> **/*.php</div></pre></td></tr></table></figure><p></p><p>2.Delete the lines</p><ul><li><p>delete the matched</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:g/pattern/d</div></pre></td></tr></table></figure></li><li><p>delete the not matched</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:v/pattern/d</div></pre></td></tr></table></figure></li></ul><p>3.<a href="https://github.com/liuxd/VimIDE.git" target="_blank" rel="external">ide install</a><br>4.insert the current time with ‘F5’,detail config of <a href="http://vim.wikia.com/wiki/Insert_current_date_or_time" target="_blank" rel="external">vimrc file</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot; &lt;F5&gt; to produce date in normal mode</div><div class="line">:nnoremap &lt;F5&gt; &quot;=strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)&lt;CR&gt;P</div><div class="line">&quot; in insert mode</div><div class="line">:inoremap &lt;F5&gt; &lt;C-R&gt;=strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)&lt;CR&gt;</div></pre></td></tr></table></figure><p></p><p>5.indent 7 lines: 7 &gt; &gt;<br>6.Recording keys for repeating jobs: q letter recording q @ letter</p><h2 id="gvim-config"><a href="#gvim-config" class="headerlink" title="gvim config"></a><del>gvim config</del></h2><p><del>set chinese encoding<br>in _vimrc file,add below lines at top</del><br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set encoding=utf8</div></pre></td></tr></table></figure><p></p><h2 id="vim-installation-and-configuration"><a href="#vim-installation-and-configuration" class="headerlink" title="vim installation and configuration"></a>vim installation and configuration</h2><p>vim的快捷键功能很强大，插件也非常多，安装vundle后，可以从<a href="http://vimawesome.com" target="_blank" rel="external">该网站</a>下载插件；</p><h3 id="vim-plugin-management-vundle"><a href="#vim-plugin-management-vundle" class="headerlink" title="vim plugin management: vundle"></a>vim plugin management: vundle</h3><h4 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h4><ul><li>for windows <a href="https://github.com/VundleVim/Vundle.vim/wiki/Vundle-for-Windows" target="_blank" rel="external">path</a></li><li>path <a href="https://github.com/VundleVim/Vundle.vim/issues/753" target="_blank" rel="external">bug</a></li><li>vundle <a href="https://github.com/VundleVim/Vundle.vim" target="_blank" rel="external">readme</a></li></ul><h4 id="install"><a href="#install" class="headerlink" title="install"></a>install</h4><ul><li>env:win 7,vim 8.0</li><li>open vim</li><li>input’:version’,show all path of vim</li><li>input’:scriptnames’,show the vim installation path<br>D:program file\vim_vimrc</li><li>vim _vimrc</li><li>add source $VIMRUNTIME/bundle.vim at first line</li><li>vim bundle.vim in dir vim\vim80</li><li><p>add the content below</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">set nocompatible              </div><div class="line">filetype off                  </div><div class="line">set rtp+=$VIM/vimfiles/bundle/Vundle.vim</div><div class="line">call vundle#begin('$VIM/vimfiles/bundle/Vundle.vim')</div><div class="line">Plugin 'VundleVim/Vundle.vim'</div><div class="line">Plugin 'tpope/vim-fugitive'</div><div class="line">call vundle#end()            </div><div class="line">filetype plugin indent on</div></pre></td></tr></table></figure></li><li><p>reopen vim</p></li><li>input’:PluginInstall’ “ install plugin</li><li>input’:PluginList’ “ list plugin<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">" " Brief help</div><div class="line">" " :PluginList       - lists configured plugins</div><div class="line">" " :PluginInstall    - installs plugins; append `!` to update or just</div><div class="line">" :PluginUpdate</div><div class="line">" " :PluginSearch foo - searches for foo; append `!` to refresh local cache</div><div class="line">" " :PluginClean      - confirms removal of unused plugins; append `!` to</div><div class="line">" auto-approve removal</div></pre></td></tr></table></figure></li></ul><h3 id="设置vim保存文本格式为utf-8"><a href="#设置vim保存文本格式为utf-8" class="headerlink" title="设置vim保存文本格式为utf-8"></a>设置vim保存文本格式为utf-8</h3><ul><li>在windows系统中，vim保存文本的格式为cp936，不是utf-8，导致其他程序打开文本时乱码，半年前设置没成功，使用其他md客户端不好用，还是喜欢使用vim，这次决心解决这个问题，保存后文本格式的问题。</li></ul><h4 id="reference-1"><a href="#reference-1" class="headerlink" title="reference"></a>reference</h4><ul><li>vim相关编码<a href="http://edyfox.codecarver.org/html/vim_fileencodings_detection.html" target="_blank" rel="external">概念</a></li><li>编码设置<a href="http://www.jianshu.com/p/2d814a4dacdd" target="_blank" rel="external">参考</a></li><li><em>最终解决<a href="http://blog.csdn.net/david_xtd/article/details/7732650" target="_blank" rel="external">方案</a></em></li></ul><h4 id="prepare"><a href="#prepare" class="headerlink" title="prepare"></a>prepare</h4><ul><li>fileencodings是指，vim在打开文本显示之前，从fileencodings的编码列表中依次检测该文本的编码，找到后就按照该编码格式显示</li><li>fileencoding是指，使用vim编辑文本后，在保存时，用fileencoding指定的编码格式保存文本，windows环境默认情况下，编码格式一般为<del>ucs-dom</del><em>cp936</em></li><li>vim编码的详细介绍，可以查看参考链接</li></ul><h4 id="install-1"><a href="#install-1" class="headerlink" title="install"></a>install</h4><ul><li>首先，用vim打开一个带有中文的文本，默认显示正常</li><li>输入:scriptnames，找到_vimrc的路径， 我的是D:program file\vim_vimrc</li><li>输入:set fileencoding，查看保存文本后的编码，默认为空</li><li><p>用vim打开_vimrc文本，然后在文本末尾添加两行命令，如下所示</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">set encoding=utf-8</div><div class="line">set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1</div><div class="line">set fileencoding=utf-8</div><div class="line">source $VIMRUNTIME/delmenu.vim</div><div class="line">source $VIMRUNTIME/menu.vim</div></pre></td></tr></table></figure></li><li><p>关闭vim后，重新打开带中文的文本，修改保存后的编码格式为utf-8,输入:set fileencoding可验证</p></li></ul><h3 id="markdown-plugin"><a href="#markdown-plugin" class="headerlink" title="markdown plugin"></a>markdown plugin</h3><p>添加此<a href="http://vimawesome.com/plugin/vim-markdown-enchanted" target="_blank" rel="external">插件</a>后，在vim中能实现markdown高亮</p><h3 id="vim的分屏神器conemu"><a href="#vim的分屏神器conemu" class="headerlink" title="vim的分屏神器conemu"></a>vim的分屏神器conemu</h3><p>20170618早上7点<br><a href="https://conemu.github.io" target="_blank" rel="external">官网</a>,<a href="https://conemu.github.io/en/KeyboardShortcuts.html" target="_blank" rel="external">快捷键</a>功能也非常强大，通过多任务功能启动windows的应用，比如浏览器、vim、cmd、shell等等，通过快捷键Win+Alt+t添加任务。<br>部分快捷键如下：</p><ul><li>Alt+Win+k, show all shortcuts</li><li>Win+Alt+P，Displays ConEmu Settings dialog</li><li>Ctrl+Win+Enter，Maximize ConEmu window and hide window caption (FullScreen mode).</li><li>Win+Q, Win+Shift+Q，Activate next/previous console tab. Q is default</li><li>Win+Del，Terminate current console. This hotkey is disabled by default! You may enable it in the ConEmu Setting</li><li>Ctrl+Shift+e or o,垂直分屏或水平分屏</li></ul><h3 id="git-bash环境的vim配置"><a href="#git-bash环境的vim配置" class="headerlink" title="git-bash环境的vim配置"></a>git-bash环境的vim配置</h3><p>20170618中午<br>在windows环境下使用shell的最好方式是git-bash，比较轻量，内置有vim工具，由于在windows环境下已经有配置好的vim工具，可以通过修改vim的路径来达到目的。<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span></div><div class="line">vim /etc/profile.d/aliases.sh  //在脚本中添加一行命令</div><div class="line">:wq</div><div class="line"><span class="built_in">source</span> !$</div><div class="line">vim</div><div class="line">:scriptnames  //查看vim的路径修改成功</div></pre></td></tr></table></figure><p></p><p>以上需要添加的一行命令为alias vim=’/d/Program\ Files\ \(x86\)/Vim/vim80/vim.exe’；</p><div><center><div class="pagination"><ul class="pagination"><li class="prev"><a href="/Docs/good-websites/" class="alignleft prev"><i class="fa fa-angle-left"></i>Prev</a></li><li><a href="/"><i class="fa fa-home"></i>Home</a></li><li class="next"><a href="/Docs/shadowsocks/" class="alignright next">Next<i class="fa fa-angle-right"></i></a></li></ul></div></center></div></div></div></div></div><div class="container-narrow"><footer><p><span id="busuanzi_value_site_pv"></span> hits. <a style="color:#999" rel="external nofollow" href="https://github.com/tomdican/hexo-theme-less">Less</a> theme.</p><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","true"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),function(t,e,a,c,n,s,o){t.GoogleAnalyticsObject=n,t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},t[n].l=1*new Date,s=e.createElement(a),o=e.getElementsByTagName(a)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(s,o)}(window,document,"script",0,"ga"),ga("create","UA-97368934-1","auto"),ga("send","pageview")</script></footer></div> <a id="gotop" href="#"><span>▲</span></a><div id="sidebar-toggle" class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first" style="width:100%;top:0;transform:rotateZ(0);opacity:1;left:0"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle" style="opacity:1;width:100%;left:0;top:0;transform:rotateZ(0)"></span><span class="sidebar-toggle-line sidebar-toggle-line-last" style="width:100%;top:0;transform:rotateZ(0);opacity:1;left:0"></span></div></div><script src="/js/jquery.imagesloaded.min.js"></script><script src="/js/gallery.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery.tableofcontents.min.js"></script><script src="/js/tocgenerator.min.js"></script><script src="/js/main.js"></script><script src="/js/search.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script type="text/javascript">jQuery(".fancybox").fancybox()</script><script type="text/javascript">var search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path;searchFunc(path,"local-search-input","local-search-result")</script></body></html>