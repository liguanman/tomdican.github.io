---
title: read-product
date: 2017-2-7  12:48:50
updated: 2017-2-7 12:48:50
tags: 阅读,需求,分析
categories: 0读书
toc: true
---


## 产品迭代

- 201703月

- **第四周20-24（运营）**
	- 1.
	- [x] 去万圣书园
	- 2.
	- **思路**
	- 调通微博认证中页面不跳转问题；
	- 查找推荐人的创业相关的书单；
	- **实现过程**
	- 微博认证不跳转是由于认证次数限制导致，将跳转放在ajax外面就行。
	- 查看liusuli的书单
		- http://dushuren123.com/bookmov/liusuli/liveroom4.html?from=groupmessage&isappinstalled=0
		- 添加了一些创始人推荐的书籍；
	- 修改微博分享的内容，可以查看书籍详细和关联推荐人；
	- 书籍分页需要实现，当数据增多后；
	- 3.
	- **为什么推荐书籍**
	- 推荐书籍是什么，就是通过名家或熟人推荐来吸引用户去指定的网上书店或实体书店购买书籍；
		- 名家，在网站上添加很多名家后，能让用户认可的某些名家起到推荐作用，会让他想表达的欲望或者想和名家互动交流这本书，部分用户会直接购买，去指定书店购买的人少，除非有特殊价值，或者至少书籍实惠然后方便快递；特殊价值主要在和名家的某种关联，比如现场参加活动，签名本，优惠，指定的书店服务非常好；真正看书的人对名家不是太感冒，觉得利用名家来推荐书籍，比较浮躁商业化；
		- 熟人，看见微博熟人看过这本书，然后也想购买；或者是，熟人喜欢看我不喜欢看
		- 吸引用户，书籍确实好，人气也很好，参与讨论了这本书籍；很多书籍不够经典，比较商业化，不够吸引用户，无法马上判断这本书是否好；
		- 去指定书店购买，书店服务好，价格实惠，去指定书店买有特殊价值。不去指定书店购买，其他书店更方便优惠；
	- 为什么推荐书籍，通过微博的粉丝来交流一本书籍，达到推荐书籍的效果；
	- **可能功能设想，是否已经有类似产品**
	- 有没有可能通过一本书来认识朋友；
		- 最好基于地理定位，实现附近看同一本书的人来见面交流；
		- 基于行业，通过一本书认识朋友交流；
		- 基于兴趣爱好话题，来认识朋友交流；
	- 通过一本书来讨论书中疑问，有人提问有人回答，以及发散思维，提高一本的人气；
	- 通过用户喜欢的一本书，来添加世界对于这本书相关的链接添加，；
		- 名家对这本书的评论；
		- 一本书发生的热门话题；
		- 一本书的畅销情况；
		- 关于这本书的活动；
	- 通过一本书来实现线下活动；



- **第三周13-17（第二版）**
	- 1.
	- [x] 实现微博认证后获取用户信息；
	- [x] 实现退出操作；由于没把重载操作放在logout里面导致退出失效；
	- [x] 由于ajax异步，需要将方法在ajax中执行，保证用户信息的获取；去掉微博的登录组件，使用自己的登录组件；
	- [ ] chrome登录有点问题，不显示头像；
	- 2.
	- [x] 实现微博分享的计数前端，11点到12点；
	- [x] 实现微博分享的计数后端，12点到13点；
	- [x] 微博分享的参数从书名改为id，14点到14点40；
	- [x] 将微博分享计数放入微博按钮中；
	- [x] a标签指向反馈模块纠正；
	- [ ] 添加在分享微博之前先登录微博 15点到15点50；
	- [ ] 尝试做手机浏览器认证的跳转失败 16点到16点45；
	- 3.
	- [x] 尝试添加用户的个人数据存储，搭建了后端 17点到17点半；
	- [x] 最后决定用两次请求来获取个人的书籍信息，抛弃将个人信息和书籍信息存入一个Collection；
	- [ ] 通过ajax传递数组；
	- [ ] 尝试暴露mongodb的id失败，尝试查找获取self失败；
	- [ ] 需要解决个人页面书籍没显示书籍id的问题；
	- 4.
	- [] 实现个人分享的书籍被点击的次数；
		- **思路**
		- 需要打通每本书的链接；
		- 再实现每个人每本书的链接；
		- 上面两点，只要打通repository的self就解决了；
		- 实现单独链接的判断然后在页面显示内容；
		- 在单独链接判断的同时进行点击量的存取；
		- 个人页面的单独链接点击量为本人一本书的，其他为一本书的所有点击量；
		- **实现过程**
		- 学习demo，https://spring.io/guides/gs/rest-hateoas/
		- 搭建demo，https://stackoverflow.com/questions/36839976/spring-boot-data-rest-hateoas-not-working-with-a-custom-controller，https://github.com/spring-guides/gs-rest-hateoas/blob/master/complete/src/main/java/hello/GreetingController.java
		- 实现self link，花了5个小时；
		

	- 5.
		- 实现了一本书籍的链接；
		- 实现了一本书的点击量计算
		- 实现了个人的一本书点击量计算，http://socboo.com/?book=58b8f11afe45be64b8566ba2&uid=5855779088；
		- 在页面显示一本书的点击量和个人页面的点击量；
		- 出现userinfo中没有保存bookrefererid的情况，待观察；花了6个小时

	- 6.
		- **思路**
		- 提供个人一本书的推广链接；
		- 去掉页面的顶部导航条；
		- 将书籍显示面积调整到适合广告窗口，可以设置窗口大小的等级；
		- 将书籍自动循环显示，手动循环；
		- 在个人页面可以选择需要推广的书籍；
		- 添加广告类型id；
		- 通过uid获取相关书籍；
		- 调试嵌入的窗口大小；
		- 添加横向滚动的按钮；
		- 在个人页面添加链接的复制；
		-  添加可选择广告的按钮；
		-  添加可组合的书单；
		-  可以输入书单名字来广告；
		- **实现**
		- 查看和测试亚马逊的个人推广链接；2个小时
		- 添加广告嵌入的标签iframe；
		- 调试广告不显示的问题，由于浏览器禁用广告的插件；3个小时；
		- 调试了窗口大小，显示三本书；1个小时
		- 添加了左右滚动箭头样式；2个小时
		- 添加按钮实现书籍滚动；
		- 调试窗口大小；
		- 显示个人推广链接；
	
-  **第二周6-10（第二版）**
	
	- 1.
		- [x] a.计划本周安排；
		- [x] b.注册域名；
		- [ ] b.解决firefox和safari浏览器的不能提交书籍的问题；
		- [x] c.解决书名过长导致文字重叠的问题,IE添加最大宽度230px；
		- [ ] d.尝试微博分享
			- [x] 1.添加安全域名；
			- [x] 2.提交两次审核没通过，等待审核；
			- [x] 3.修改网站图标；
			- [x] 4.添加插件，晚上微博分享验证通过；
			- [x ] 5.实现微博分享
			- [x ] 6.使用花生壳的域名绑定我的动态IP，https://yq.aliyun.com/articles/37951
			- [ x] 7. 使用微博分享，能添加数据；
			- [ ] 8. 使用微博登录点击按钮失败？
				- [x] 查看微博登录的原理，需要登录认证，查询网上例子没找到；
				- [x] 由于微博需要域名认证，将本地的hosts文件添加域名用于开发（system32/drivers/etc/hosts),添加域名指向127.0.0.1；[参考1](http://www.thewindowsclub.com/hosts-file-in-windows),[参考2](http://blog.csdn.net/liwenzhu1989/article/details/28596223)
				- [x] 查看微博登录认证机制 下午三个小时
				- [x] 实现登录和退出 晚上1个半小时
				- [ ] 登录后获取认证返回的uid和access_token
				http://blog.unvs.cn/archives/oauth-qq2.0-developer.html
				- [ ] 登录后获取用户图像和名称
				- [ ] 在通过jssdk实现微博授权登录时，提示，您的 appkey 需要先授权，才能调用 API 接口：/oauth2/authorize
				- [ ] tomcat添加https，http://www.cnblogs.com/sixiweb/p/3339698.html，http://jingyan.baidu.com/article/a948d6515d3e850a2dcd2ee6.html
				- [ ] 例子，http://blog.unvs.cn/archives/oauth-qq2.0-developer.html
			- [x] 9. 合并微博分享按钮代码到project分支；11
	- 2.~尝试添加微博分享~（微博审核通过才行）；~~尝试用工具进行UI设计~~；
	- 3.~~尝试添加豆瓣api（评分和人气、分类）~~；
	- [x] 4.用其他浏览器测试和bug总结（bug提交页）；
		- 1.下载safari浏览器测试，布局只显示一行；locvps
		- 2.使用IE测试，书名重叠，不能多行显示；
		- 3. 使用browserling.com模拟结果收费；	
		- 4. 使用搜狗浏览器测试没问题；
		- 5. 使用360浏览器没问题；
		- 6. 手机下载chrome，uc，猎豹，发现猎豹发送数据有问题；
		- [ ] 7.在中国大陆部署服务器用于亚马逊api服务,可能需要虚拟机或沙箱机制，麻烦； 
	- 5.写部署的半自动脚本和自动备份脚本；
	- 6.反馈系统统计系统；
	- 7.下一步需求细化
		- 能够显示个人用户的分享的所有书籍、推荐的所有书籍、点赞的书籍；
		- 能够查看每本书籍的所有分享用户、推荐的用户、点赞的用户、分享数点赞数，点击量；
		- 能够进行分享数或点赞数进行用户或书籍排序；
		- 个人用户分享的或推荐的每本书籍有唯一的链接；
	- 8.计划安排
		- 1.实现个人用户微博帐号数据存入数据库；
		- 2.书籍的分享数、点赞数显示；
		- 3.实现分享数和点赞数的排序；
		- 4.显示分享数和点赞数详细的用户分布；
		- 5.显示个人用户分享的书籍和点赞的书籍，添加链接；
		- 6.显示个人用户分享和点赞相关的用户（可选）；
		- 7.单独页面显示个人用户某一本书；
		- 8.实现一个用户一本书籍的接口访问；
	- 
	- 周末
		- 了解万圣书园的营业情况和老板对书店的看法，合适的话去现场了解；
- 目前不用
	- 1.显示点击数和排序；
	- 2.实现微博认证登录、点赞、点赞数显示和排序；
	- 3.查看某位推荐人推荐的所有书籍；
	- 4.查看某本书的所有推荐人；
	- 5.尝试将书籍推荐信息能自动跟新到微博上面

- **第一周**
- 1.实现页面访问服务端获取书籍信息；（正常，到周二中午完成）
	- 在mongodb的数据库中新建collection，存入book.json;
		- admin密码重置失败；
		- 进入数据库后无法加载book.json;
		- 添加新用户的权限有些问题；

	- 在服务端readworld-rest中添加相应bookReferrer的api;

	- 在前端页面中通过ajax连接服务端，使用JAVASCRIPT将数据映射到页面中；
		- nth-child()使用有些不能正常使用，待确定；
		- json和jsonp需要进一步测试，是否实现自动映射数据到页面，不用遍历；
		- 当有多个子样式类时，获取失败；

	- 在chrome，firefox，ie浏览器中都显示正常；
- 2.通过书籍名称自动获取amazon的书籍信息存入数据库；
			
	- 之前已经注册亚马逊的product advertising和调试通amazon的api；

	- 在服务端添加amazon的api例子，能通过页面请求来查询；
		- 在maven工程中添加本地jar成功（改为远程添加）；
			- 本地直接添加jar包有问题；

		- 新建书籍查询的api；
			- 没有relevance的排序；
			- 查询次数有限制；
			- 前十个结果没找到包含此名称的书籍时，默认选择第一个结果；
			- 排序使用salesrank；
			- 名称查找使用的Title，keyword查询不准确；
			- 检查是否含有名称的漏洞为，可能含有的名字是陪衬，不是正确的书；
		- 将数据转化为json;
			- 使用map<String,String>作为返回结果；
			- 使用post，获取页面的值；
	- amazon的api中获取指定的字段存入数据库；
		- 区分val()、text()、html()
		- 在后台添加存入数据库的代码

	- 在页面可以查询书籍然后显示名称最合适的一本书；
		- 调试搜索书籍名称最合适，由于relevance无法使用
		- 有时名称检索不对，一般少见
- 3.在页面实现书籍信息添加到数据库（UI）；
	- 添加navbar没成功；
	- bootstrap.js版本有些问题，用其他版本modal无法使用；
	- modal远程的url没找到最高版本，后面尝试低版本试试；
	- 添加了书籍信息和推荐人信息，写了js提交后自动关闭刷新；
	- 在后台添加了书籍信息检查和搜索；
	- 推荐人名称职位能存入，但微博信息api有待打通解决；
	- 样式等navbar使用后再说把。
			
- 4.输入推荐人名称自动显示用户微博信息存入数据库；
	- 微博用户搜索的api需要申请为新浪合作开发者才行；
		- [详情](http://open.weibo.com/wiki/Search_API)
	- 在后台添加获取帐号文本的类，提交到服务端，避免密码泄漏；
	- 禁用输入框的校验，追求细节就费时间；
	- git中添加忽略文件，需要清除缓存；
	- 您好，搜索用户的api需要新浪开发合作者，怎样才能成为新浪开发合作者？正在开发一个书籍的产品需要调用微博的用户搜索api，或者寻找微博用户还有qita其他api吗。
	- AccessToken [accessToken=, expireIn=157679999, refreshToken=,uid=2258300554];
	- [weibo api test](http://open.weibo.com/tools/console)
	- [搜索微博用户的api](http://open.weibo.com/wiki/2/search/suggestions/users)
	- 接口页面  : [注册授权后](http://open.weibo.com/apps/154473178/privilege);[不用注册的](http://open.weibo.com/wiki/%E5%BE%AE%E5%8D%9AAPI)
	- [新手指南](http://open.weibo.com/wiki/%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97)。1.注册；2.填写开发资料邮箱手机认证；3.创建应用；4.下载SDK；5.查看readme；6.获取access_token,其中回调地址随便添加只要格式正确；7.可通过api工具测试或者直接用sdk测试。
	- 遇到的问题：base64三个不同包，[例子](https://www.javacodegeeks.com/2014/04/base64-in-java-8-its-not-too-late-to-join-in-the-fun.html)
	- 添加weibo中sdk的相关搜索用户和显示用户详情这两个API到服务端中，由于类引用的问题和包的问题，需要将一个个没引用的类加入到服务端中，发现微博api相关类太多了太繁杂；
	- 服务端刚启动，马上使用亚马逊api查询会报错需要等会儿才行。
	- 添加完成服务端微博api查询然后存入数据库的操作
	- 问题，maven下载的jar包没看到
	- 微博api调用频率限制蛮高
	- list-group
```html
<div class="list-group">
  <a href="#" class="list-group-item active">
    <h4 class="list-group-item-heading">List group item heading</h4>
    <p class="list-group-item-text">...</p>
  </a>
</div>
```
	- 添加下拉样式覆盖下面内容，使用z-index：1和position：absolute；花了3个小时尝试
	- 放弃下拉样式选择书籍或微博用户，直接覆盖整个内容来选择，选择后能自动存入输入框；
	- 实现微博用户选择；20170303，到凌晨才弄好，花了将近4个小时
		- 微博选择页面位置确认
		- 微博选择页面布局
		- 微博选择按钮添加
		- 微博选择后参数传递
		- 微博传递的参数存取
		- 将存取的微博参数获取
		- 实现选择微博失败后页面的关闭
		- 添加微博参数到存入后台的功能中
		- 添加微博选择页面的滚动条
	- 实现检索亚马逊10本书籍的api；20170304，下午13点开始，将近2个小时
		- xml标签名称不一致，需要验证
		- 替换之前标签遍历的思路；
	- 实现亚马逊书籍选择；20170304，早上9点开始，4个小时弄好
		- 和微博的方法协调一致；
		- 避免和之前亚马逊书籍查找命名冲突；
		- 添加新的多本书籍查找方法；
		
	- 实现

- 5.实现微博分享书籍；
	- 1. 微博分享连接，<meta property="wb:webmaster" content="c5e337bc54783748" />
	- 2. 有两种方式，wbml方式和js方式；
	- 3. wbml方式在初始化时候运行显示按钮；到晚上11点多才搞明白有两种方式实现，花了将近4个小时才搞明白，昨天上午的思路方法白弄了，浪费将近4个小时，真耽误时间，总要交点学费，除非有经验的人指导你。
	- 4. 初始化之后，才添加按钮，无法显示微博按钮的问题；
		- 调用微博js插件里面的方法initCuctomTag；
		- 为什么这样，wbml方式提供了好的按钮样式，jssdk方式没有提供微博的按钮样式，wbml的按钮又不能禁止促发事件，所以决定第二次再出发渲染微博按钮；到凌晨1点10分才二次初始化按钮成功。
		- 添加微博分享按钮成功；
		- 尝试微博登录失败；
		- 
- 6. 上线（部署到home目录；
	- [x] 部署mongodb；1个小时
	- [x] 部署maven；半个小时
	- [x] 部署igninx；1个小时
	- [x] 获取代码；20分钟
	- [x] 尝试开启服务；20分钟
	- 添加数据库自动备份其他服务器；
	- [x] 配置域名；
	- 修改微博审核资料中页面；
	- 添加每天自动更新服务的脚本；
	- [x] 配置linux的hostname到/etc/hosts,微博才能正常使用；
	- bug:
		- 修改弹出页面中关闭按钮的刷新
		- 去掉搜索框
		- 增加微博选择数到10
		- 书名重叠
		- 

- 7. 整理本周的产品开发情况（工作进度、任务完成情况、功能评价、产品使用感受、学到的知识和感受、下一版本产品需求讨论、时间安排确定和产品关键点，全部写入博客中，最后分享讨论。



## 微信开发
https://liuxd.github.io/posts/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E5%BF%83%E5%BE%97.html
https://liuxd.github.io/posts/WeChatAPP.html


## 产品需求
- **总目标**：推销书籍
- **总需求**：实现专业人士、名人、人气来带动书籍推销，
- **需求细化**：
	- 1.任何人可以选择亚马逊任何一本书和任何一个推荐这本书的微博用户；
	- 2.使用微博登录后，能查看自己推荐的所有书籍，个人推荐的点赞数点击量，个人点赞点击书籍一览；
	- 3.将微博用户按照行业专业性和名气进行分类和排序，能按照类别容易查看到有人气的人或相对靠谱的人推荐的书籍******；
	- 4.能查看某人点赞或推荐的所有书籍；
	- 5.能查看一本书籍的所有点赞人和推荐人；
	- 6.能围绕一本书进行评论，甚至各个维度的评论，书中每句话都能进行评论，目的是彻底吸收许多人对这本书想法和角度，模仿金圣叹李渔李贽评论书籍的效果。
	- 7.个人页面显示自己添加的书籍，还显示个人的读后笔记或评语*；
	- 8. 优惠返利；amazon，团购，活动，单行间
- **问题**：
	- 1. 微博私下熟人少；
	- 2. 在你的页面为什么要分享书籍到微博，一定要有让用户愿意分享的东西，什么东西了，用户来产品页面一定是因为看到这本书有大牛推荐，
		- 第一反应是，这位大牛是否我认同;
		- 第二反应是，看这位大牛对这本书的评语（社交场景，对自己标签的认同）;
		- 第三反应是，是否其他大牛推荐过（访谈演讲书籍文章来源）;
		- 第四反应是，这本书的人气和评分怎样（借用豆瓣数据或引用链接）;
		- 第五反应是，看作者还有译者还有出版社是否牛逼（调用链接：百科或其他可靠的网站，社交链接）；
		- 第六反应是，这本书在这个专业领域的经典度或影响力（多少牛逼的人提到过推荐过这本书）；
		- 第七反应是，想看这本书的评价文章（网页上或其他书籍对这本书的评语）；
		- 第八反应是，想马上浏览下这本书的内容（添加书籍内容链接，现在这样的书籍内容网站不少：收费的有豆瓣多看几个大公司，不过也含有免费或能浏览部分内容，免费的有不少但不全也盗版，但不影响我这边的网站）；


## 个人需求
登录
- **目标**：获取最好的书籍

- **个人场景模拟**

	- 我要看人物传记方面

		- 进入网站中人物传记的类别（有最好的几个选项，比如某个类别最好的2本书，某个类别最好的5本书）
		- 按照时间顺序、地区、行业分类，每个子类别里面最有代表的人物；
		- 按照自传、回忆录、口述、他人写的分类，每个子类别最好的几个人物；
		- 按照真实性和权威性分类进行公认排序，选择最前面的人物传记；
		- 产生清单文本

	- 我要看世界上最经典的书
		- 只能参考权威人物或权威机构
	
	- 我想看某个人物看过的书籍


- **问题**

	- 什么是好书
	
		- 公认（含有名人推荐）
		- 专业权威（含有专业人士推荐）
		- 名人推荐（说书的书，随笔，聊天演讲）
	- 好书在哪里
	- 如何获取好书
	- 好书用什么方式展示
	- 好书的迭代问题如何解决


- **思路**

	- 假设有最好的书，如何展示
	
		- 原则为，给人一种推荐最好书的网站，如何保证是推荐的效果了；
		- 推荐的前提为，权威性和页面为推荐的样式；
		- 权威性，公认、专业权威、名人推荐；公认可以用讨论的形式，但可有可无；
		- 页面为推荐的样式，按专业分类，按名人分类，

- **显示原则**

	- 以人物和书为其中一个中心维度，中心维度可以相互切换；
	- 讨论参与有待解决

- **方案**

	- 开发方案
	
		- 开发原则采用迭代的方式：
			- [ ] 采用瀑布流显示书籍
			- [ ] 添加搜素功能
			- [ ] 增加人物推荐属性
			- [ ] 可以从页面增加人物推荐，关联社交网站
			- [ ] 后续待定

		 - 开发技术
		 
			 - 开发路线
				 - [ ] 现有开源产品
				 - [ ] 自己开发

			 - 服务器
				 - [ ] 收费
				 - [ ] 免费

			  - 技术方案：
				  - 数据库:mongodb
				  - 前端：
					  - [ ] jquery
					  - [ ] nodejs
				  - 服务端语言：
					   - [ ] javascript
					   - [ ] java

	- 具体实现过程
		- 用bootstrap实现瀑布流布局
		- 测试amazon的product advertising api
		- 测试ajax和jsonp
			1. 了解ajax和jsonp；
		- 搭建spring boot
			1. restfull
			2. mongodb
			3. cross domain
	


## 基于定位的书籍社交
附近的书籍共享，收费为1元，有押金。

## 自定义关键字来显示信息
 - 基本
	 - 通过输入关键字自动筛选，包括或和与的两种关系；
	 - 可以自己选择信息来源，包括新闻、问答、博客、论坛等等；
	 - 每天定时更新，每天更新次数限制为一次；
	 - 乐后自动消失；
	 
 - 可有
	 - 粗糙功能：能保存整篇文章或页面；
	 - 细节功能：
		 - 保存内容能归类，可以根据关键字；
		 - 可以只保留文章中的片段；
		 - 可以对文章或页面进行批注或强调；
	 - 能将保存的内容导出到流行的客户端或多个格式导出；
	 
	 
## 书籍阅读

- 将非常经典书籍挂在网上，可以注释和写读后感
- 将书籍拆成为碎片，类似圣经
- 首先只加宗教书籍


## 只存放个人数据

- 录音或音乐、图片、笔记、电影。所有这些全是个人的空间，别人无法查看，需要打链接才能分享，只有网页版。